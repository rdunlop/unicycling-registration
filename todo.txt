- Overall champion result should be 'pts', and should be rounded?
- Move the "show confirmed events" feature into competition-admin-space?
- Strikethrough any competitors who are "DNS"/etc.

- Allow Payment Admin to see the "Expenses" screen of a registrant, and add/remove elements to their Payments page
- Fix caching on the Payments#summary page, since it doesn't update the "Unpaid" column properly when people add/remove RegistrantExpenseItems.

- Better handle invalid step problem by redirecting user elsewhere?
 (causes exception right now)

- make the "onsite" registration period automatically selected if no other period's date is in range
- prevent needing to set the dates for the Onsite registration
- ensure that


TODO: Download the db to Scott+Robin's laptops
TODO: Spin up and suspend a backup server (including new redis)
TODO: check caching using the new pundit service.
TODO: Check caching in general.

To Gain confidence in any e-mail sent out, I would like to have an e-mail sent to the currently-logged-in-user with the number of e-mail addresses, and the contents of the email.

======================================================
- Remove ":admin" ability from database?
- Inspect performance of making the (many) .has_role? calls for a user.
- Use "Scope" in Pundit as it is expected to be used?
- Test the access control settings from various users
- Check coverage, and add controller specs for those that are missing.
- Add specs for policies, based on the old ability_specs.
- As a Judge (or data entry volunteer?), why can I iew the Competition#show page?
 -  I think that we should have separate views for the awards admin to view the status of competitions
 - I think that data entry volunteers should NOT have access
- Put a "missing music upload" warning together on the registrants#index page
- Put a "missing pairs partner name" on the registrants#index pages

- Add the ability for a user to change their "short name" for their account (same name as is changed by "Data Entry Volunteer")

================== New Awards/Results Calculation Logic ============================
- Combine the AwardLabel multiple-lines-of-text with the Registrant#results page, with the Result object data
- Why are we always listing "Overall" as well as "Age Group" for each competition type?
 - When we do "Award Labels", it doesn't result in both of these...so we shouldn't do it in the results page.

 - Need to determine if a competition should result in:
  - 1) Age Group Only (ie: If "Expert", they will actually be age-group only?)
  - 2) overall AND age group
  - 3) age group

- Need to determine if a competition should result in awards for (a combination of):
 - 1) overall (without Expert naming)
 - 2) overall (WITH expert naming)
 - 3) age_group (with age-group-specific subtitle)
 - 4) age_group (with Competiiton->award_subtitle-Name)

- Inputs:
 - Competition.has_experts?
 - Competition.has_age_group_entry_resuls? (aka age_group_type.present?)

- There are times when we need to determine overall, but we don't award it. (like 100m, where the overall is used to determine the experts candidates)


- LATE Registrant is unable to create a new Competitor registrant (there is no current registration period?)

- Need to ONLY show results which are for "Awarded" Competitions
======================================================================================

- Add tests around the new library refactorings
- How does a Director manage/adjust the high/long scores after a judge has judged?

Want to do:
- spec which uses import_results_Controller->display_csv -> import_csv to create external results
 - then uses Approve action to convert the results to real results.
- Determine if the servers have any ImportResults left on them.

- Remove default_scope on ImportResult

NEED to clear up the "target_competition" logic of the import! function (used for the mulitple-10k competition-in-same-dataset problem)

WHEN DOING an Import from CSV, fail the whole import, listing the entries which cannot be handled yet clearly, allowing them to be resolved (perhaps a "add these people as competitors" choice?)

? ask scott/patricia? - Boundary-score calculation judge for freestyle? (major/minor falls counter)
 - For UNIOEC?
- Must update the Ineligibility of all registrants before starting competition.

PRiorities as per Scott/Robin Discussion:
- artistic ineligible dismissed
?ask scott? - Country-specific competition/announcement, per competitor/ group?
- Deal with XXX marks

** Go Live

- Per-Competitor results
- Overall Competition logic changes (DaveKrack)

- Track day, running-results
- Add specs to ensure that data entry volunteers controller works (ie: is "confirm!" deprecated?)
 - Need to upgrade Devise first?
- Assign Data Entry roles per Competition for volunteers.
 - XXX FIX Competition permissions...currently "can :read, Competition" is giving access to all the stuff UNDER competition. (oops)
 - Want to be able to track WHO Entered the data. (ie: remove the ImportResults system, and properly manage the data flow.)
 - Unable to data-entry Multi-Lap Races (import doesn'n ask for number of laps)
- Live Data Entry for Muni
- Make Track E-Timer import better
- High/Long live display
- Live Data Entry for Trials

- Text-Message on new result

- Expert T-Shirt
-

- https://github.com/norman/friendly_id instead of 'find_by(bib_number: x)'
- Fix breadcrumbs on Competition-management sub-screens
 +source 'https://rails-assets.org' do
> +  gem 'rails-assets-datetimepicker'
> +end

- If a competition is created with "automatic competitor creation", it should prompt "Should I add all currently configured competitors?" immediately after creating the competition.
- Handle Ineligible results when calculating placing points?
- Flatland/etc calculation with "ineligible", does it properly give placing points?
- Combine the scoring data entry paths, with different partials as necessary?
  - Is this even possible, considering different interaction-requirements?
  - Is this a good idea?
- Make External Result data entry system smarter, so that it doesn't prompt me to enter scores for a competitor which already has scores. (use chosen's greyed-out-select?)
- Are the order of age groups important for anything other than Track? Can we clean that up?

- Disable start/finish data-entry if you choose certain scoring types (like Street, High/Long, freestyle, Flat?)

- After refunding, if the registration can be deleted, prompt the admin whether they want to delete that user.


- Allow creating Expert events without specifynig an age group? (ie: 100m expert shouldn't need an age group)


- Describe the Scoring classes better:
 - Externally Ranked - Provide an Export/Import routine for entering the results
 - One-Result - Each
 - Street -

- If we could have a device at the start/end line, how do we enter data, as the data arrives??? global problem to solve.
- On-Site E-Scoring of Trials Line-Judge results
 - Able to specify the line, the "hand"-ness, the Competitor
- Show the live, results of all competitors.
- Show the results, per-competitor ?
- Cache the page, use JS

- All Start Lists should be download by Excel (e.g. of every table which we print)
- Should we show any of these results liv? (like live-results of Muni Downhill?)
- lap counting?
 - ID of person, on a running clock
  - Cyclocross, Marathon, Criterium.

MUni - Have network connections.
 - Allow live-entry of data for Uphill/Downhill
- serve the datetimepicker only to admin pages?
 - try minified?
- fix problem with datepicker showing the same date if multiple dates appear on the page.
- test that using erb in JS for datetimepicker isn't cached inadvertantly
- data entry page should say "nothing to see ehere" if you haven't been assigned yet.
- why can a super create a spectator
- ensure that DQ/DNS competitors have correct points/places
- improve '/registrant/:id/results' page to honor 'published' status, and also clear up results.
- Pretend to be any user, so that you can see what they see.


New Rules changes:
- 1.11 -  Must post the Name + Country of all competitors/results
       - Must post the Name + Country of all judges on the panel?
- Identify the country represented by a Competitor (based on the residence/representing, or arbitrary choice?)
- Create a "Clerk" role which can access read-only access for lane assignments.
- Create a "Picker" role which can assess Lane-finish/DQ at track races.
- Create a "Recorder" role for various events
-

- add ability for AwardAdmin to modify all awards at once (for bulk updates, bulk-deletions)
- Make EventConfiguration "submit" action say "Save & Continue"
 - Make it always actually continue
- Add markings which would indicate that we've finished a configuration step.
- i18n the javascript "are you sure you want to leave"
- Certificate request from Hugo.
- Confirm that naucc2015 is using coupon codes with Registration items, and adjust coupon_codes/_form.thml.haml appropriately.

- 7) [not yet done] delete any phrases which no longer exist in the primary locale

- OPEN PRs against Tolk
- gem "jc-validates_timeliness"
- How to "Award"/"Un-Award" a competition (deleted this option from competition#show)
- Why doesn't en.waiver_text appear for the "Default Waiver" when none is defined for de.? (scott noticed this)
- FIX the history-of-changes-of-a-record UI featuer.
- Allow multiple language 'login' screen?
- add a log-rotate function?
- Email: You have been made a director email []optional
- Restrictive email filter on stage, but allow sign-up-without-confirmation?
- consistently put "delete" in the "edit" menu?
- Disable certain features on the "Test" domain...like actually receiving money from paypal... Or ???
- Set the current reg period when first creating them?
- Who should be able to print registration summaries? From what page?
- who can set registrants as ineligible?
- Add ability to send an e-mail to configurable list when manual payment is completed.
- Add display of number of remaining items for sale (when limited).
- Clean up the Bank Transfer received/cheque-received pages
  - Send Marco instructions
- Use SimpleForm for registration flow. Remove "required" class adjustments.
- "all T-shirt have zero but the sum should be the same number of all rider paid  in this case 220
the column Num unpaid is 293 and include also the Rider unpaid"
- Add migration to set any unset position elements?
- Add migration to require that position is not-null?
- make the side-nav links be "active" highlighted.
- Make Initial Nested-Categories fully-featured (none by default?)
 - Can we fix it so that the default eventCategory is not required?
- Send Olaf a report of the hosting costs for prod+dev
- replace better_erors with web-console
- upgrade sass-rails
- why did I need to change to raise_with_exception? (dependent: :destroy -> dependent: :raise...)
- remove respond_with class-level responders.
- Make payment_settings: offline_payment_description into a Wysiwyg (same with waiver text field)
- make all select boxes chosen-select boxes?
- i18n javascript "Please Wait" and other strings in JS
- i18n controller flash messages
- Allow admins to make payments against incomplete registrations (payment_detail creation with invalid registrant?) (for transferring payments)
- Allow easy listing of incomplete registrants?
-"Missing reg-item match" emails are sent when I'm doing manual payments. Stop this when done through the admin system?
- Create Download for each payment ID the entire anagrafic data for each registrant involved + items bought (as listed below) + total cost of the item bought (as listed below). (as detailed in "Body_Purchase" email)
- Do I need PDT in PayPal?
 - Do I even need IPN? I specify the notify_url in the paypal cart submission...
- Add notes about how to set up PayPal integration to the Payments page (/notification...)
- Can I allow incomplete registrants to see the "Summary" page?
- On the "All Registrants" view, remove the "Events" link for NonCompetitors/Spectators.
- Deletion of ExpenseGroup should propogate to RegistrantExpenseItems? (M al Cubo fee)
- Why do simple-form select boxes have blank option by default?
- Remove the old registrants controller paths, and improve the wizard navigation to allow jumping forward and backward. Update the specs for the buildController
- Make "Standard Skill" event/gathering clearer.
- Allow the user to jump forward in the wizard if they have already visited that step.
- Fix Styling of ContactDetails page, which currently is strange with VAT

Reorganized January 15, 2015.

========================================================================================================================
Features which the IUF would like added:

=== Major Feature #1 - Self-Serve configuration of Registration system ===
=== Major Feature #2 - Translation framework for Registration system ===
=== Major Feature #3 - Translation Framework for Competition system ===
=== Major Feature #4 - Self-Serve configuration of Competition system ===
=== Major Feature #5 - IUF ID integration ===
 == Require that it be entered/validated while registering ==
 == Pre-populate information from the IUF database ==
 == Expose results by-iuf-id ==
=== Major Feature #6 - Easy Data Import from external results systems ===
=== Major Feature #7 - Improve Electronic-timing track-data-entry system ===
=== Major Feature #8 - Improve Freestyle judging entry ===
 == Allow easy management of judge accounts ==
 == Create boundary-judge system ==
===============

#1 - Self-serve configuration of Registration
DONE - Build Wizards/Instructions design for allowing self-serve creation of a Convention
 - Create pre-configured event types (100m, Marathon, etc) which can be chosen for inclusion in a convention
 - Guide a user through the creation of a Convention
- Make the site more robust when creating/deleting expense items/registration periods (scott broke it easily by deleting an expense item, I think)
DONE- Add ability to reset user's email password by admin-level people
DONE- UI for setting a user's registration period to be locked into previous period.
-BUG: prevent selecting dates which are not possible (Scott problem).
-CLEANUP: Rename CompetitonWheelSize to EventWheelSizeOverride?

#2 - Translate Frontend
- Translate the whole Front End,
 - translate the volunteer options form
 - translate the volunteer options form text fields
 - Enable easier switching between language choices.
 - Add translations for Spanish, French, German, Japanese
- drop the base columns for the translated attributes?
- Translate "Please Wait" from buttons
- Fix printing of PDFs with special characters (ie: french characters) (already Done? need to test)

#3 - Translate Competition
- Translate the whole back-end
 - translate into German, Spanish, French, Japanese
- Change "add Attempt" to "Enter Attempt"

#4 - Self-Serve configuration of competition
- allow directors to set competitor heat/etc.
- Directors should NOT be able to set age groups. Admin should be able to set age groups.
- Able to assign "High/Long" data importer role (????already done via a judge?)
  - and prevent them from adding scores after the event is "locked"
- Ensure that a Judge cannot update their score after the event is Locked.
- Make it impossible for more import results to be entered once an event has been locked also.
- UI for using the "International (Ineligible)" selection for registrants.
-BUG: Add ability to fix typo in user's name (when assigning data entry volunteers)

#5 - IUF ID
- Be able to force competitors to have a valid IUF membership number in order to register for UNICON (or other Conventions)
 - Be able to extract the base details from the IUF database when the user has entered their information.
 - Be able to re-sync the data back into IUF database?

#6 - External Result import/export
-BUG: Fix the "Download Results" excel export. 1) too slow. 2) Doesn't work (excel download fail...like at unicon).
-BUG: Unable to use the export functions (doesn't like transferring that much data over the response?)
- Allow Excel import of data for Timing. (like export the Two Attepmt entry document.) (same with bottom of the hill "Single attempt")
- Import Heat#s (id,heat#)
 - Matching Export function?
- Expose a raw export of the data for each Director, of every event.
 - This may be multiple files, depending on the competition.
- Expose a raw import of the data for each event?
- Handle Multi-lap race recording/calculation/reporting
  - Num Laps for time results (Coker MUni cross)
BUG- Unable to enter external Result with a DQ (the "not qualifieD" of the Competitor doesn't seem to take effect over the external result
BUG- how can I manage ALL distance attempts (to edit/delete) to fix problems with the data?

#7 - E-Track Improvements
- Improve the Track e-timer import process, so that it is less labor intensive, and less error prone
 - Use the raw files, instead of the LIF files (JCountu?)
 - Create a way for error-on-lif-import to prompt the user to map the field into a status (DNS, DNF, DQ, etc)?
- Allow importing system to automatically change/choose the competition (based on lane-assignments)
- Importing results without a lane, nor a DQ, crashes the system (see Heat 13 Race 48)
- Improve the Track day data recording so that NO data has to be deleted. Perhaps mark them as "Confirmed" in order to track the agreement between judges+timers.
- Allow the "Track" importer the "ability" to Accept the results for the LIF import.
- Better handle malformed LIF data from the track timer people. (without status, what should I do?)
- Track Import -  combine the DQ with the data-DQ, so that only a single row appears. (or allow multiple rows to exist?)
- Track Import - When the importer chooses to "restart", only THEIR results should be deleted. (we delete the line-judge's results too..
- Track - Ensure that Multiple Heat#1 doesn't break the importer.
- 100m import action should only allow if it matches the heat data
 - Import action without approval results in all heat entries having data (due to DNS/DNF/DQ)
- Don't allow another import to overwrite an existing TimeResult.
- Pages for Track Data Importing:
 - 1 Choose the Heat, and the file
 - 2. Import the data from the file, and see all the other data that has been entered for this heat. (by seeing the lane_assignment-data for this heat)
 - 3. Allow adjustments to the imported data (8-rows)
 - 4. Approve/import the data, (?thus removing it from the import_results?)
 - 5. Proceed by loading the next heat file (auto-increment the heat#)
- allow deirectors to Make Changes for LaneAssignment
- BUG: if the competitor DQs and re-runs, both results are marked as DQ for some reason. (Lucas Clegg)
- BUG: Edit COmptetitor didn't change the name of the competitor.
- BUG: When doing an import Lif without choosing a file, it fails.

#8 - Freestyle Improvements
- Improve the Freestyle Judging Data entry, to allow easier management of judging by the Chief Judge
 - Add the Judging Reference sheets to the system?
 - Improve the ability to create judge accounts for people who don't have log-in accounts. (yet associate these accounts with their Registrants)
- Make Judge-account-creation easier
- On the Judge Management page, the Tech/Pres categories should be ordered (not swap sides randomly)
- Make the Judges-chooser alphabetical, and Chosen.
- Patricia - Will there be a judge of "Falls" for "Group/Club"?
 -  "Major and Minor faults are counted by 2 people and averaged, and then those scores are used by all of the judegs.""
- Create a new Falls-Judge
- falls count judging,
 - number of competitors in each group.
- A way to print out the Judging Sheets for Freestyle, for Paper-recording (later to be transcribed into UDA)
- In Group Competitior, it would be nice to have “number of people in group” (when displaying)
- Create an "Announcer" role which has access to all of the music, and the competitor lists.
-BUG: If a competitor is marked as "not qualiified" AFTEr having been scored for freestyle, they should NOT appear in the ranked results. (see Pairs Freestyle NAUCC)
- Competitor List for Artistic Group/Club should not list the competitors...it's way too long.

OTHER
- What overall awards are required to be calculated/posted for Unicon?
- Trials Finals Candidates listed twice (see backup file july31Midnight.dump)
- When entering one-attempt data, it doesn't keep it in "entered order" when refreshing the page. (Patricia)
- Allow directors to use the Heats menus
- Create "Emergency Contact Info" report PDF which we print for having on-site at each of the competitions.
 - ID, Name, Gender, Age, Phone, Club, Country, Emergency Contact, Name, Phone, Attending?
- need a way to be able to add a payment item to a registrant (as a payment_admin, onsite).
- Can we have the onsite people approve the things that they can buy?
 - Unicon: benoit/hugo want to be able to calc prices(incl tax) easily, but also control who can buy what.
- Should force each competitor to choose their t-shirt size OR choose not to have a t-shirt when giving everyone a t-shirt as part of registration.
- When randomly-sorting, it should return to the same page
- Prevent "final_candidates" from being selected from non-24" wheel-sizes
- Configure all competitinos for UNICON, including assigning directors to events, and sending them welcome e-mails asking them to begin assigning registrants to competitions.
 - Ask them also for the breakdowns of their competitions (as applicable)
- Ensure that when placing competitors, if they have no time/data they have a place of 0 with status DNF?

=================

========================================================================================================================
Features which NAUCC would like added:
- Unlist the test sites from google
- Create robots files ?
- Upgrade Ruby
- Upgrade Rails (upgrade globalize)
- Fix printed PDF waiver, so that it has 2 columns again.
- When building a new instance, have a clear progression from:
 - Setup (no new user sign-ups)
 - Testing (new user sign-ups, but no real payments)
 - Clear stored data
 - Live (real payments.)
- Allow TenantAlias to be set without verification
 - Add code which actually verifies a tenant alias before marking it as "verified"
 - Prevent "Activating" Tenant-Alias which is not verified.
- End date for coupons (not valid after this date)
- Payments#summary page should summarize payments so that all items of the same price/tax are combined onto one line (see patricia e-mail Jan 17)
- On Payments#Summary, show the total-we-can-keep (ie: without taxes/fees)
- Ability to upgrade a registration before/after having been paid (from Non-Comp to Comp, spectator to non-comp)
- "upgrade" from non-competitor to competitor? ....some way for Admins...
- Use new Menubar system, to allow for better responsiveness at smaller screen sizes
- make "best time" input force seconds (etc)
 - Add much more logic into the 'best time' field to help it become useful information, to be used by the system for creating start-lists, etc
 - Allow formats: "hh:mm", "min:sec", "mm:ss:hh"
 - Should force the format of the Best Times to be specific, per event (so that some events are minutes, or seconds, or hours)
- PDF filenames should use the awards names for filenames.
- Use a less-ugly looking randomizer for the pdf filename.
- Allow DNF status, which shows the result, but marks them an DNF and doesn't take any places. (see Marathon results)
- Add a count of compettitors to the sign up lists (public display)
- Allow entering a penalty for Slow Races, which then subtracts a second for each penalty.
- Re-Work the slow-race data entry (as per Scott).
- Include a Report which shows the way that experts are positioned on the track
- Competitors#index should have a "Delete all who have dropped"
- Allow specifying the precision of expected data input (thousands, or hundreds, and REQUIRE that many digits)
 - This should help prevent some input mistakes
- allow marking a registrant as DNF (or some way of making that clearer when doing data entry of single-data results)
- Add a page which lists the High/Long result which require tie breaks (top 3 places which are tie, by age group results)
- Make the music file download as a zip file, or folder file thing.
 - and rename the files so that they are in competitor order. (by file sorted order)
- Printing/entry of the Heat Data (gear/crank) is sorted incorrectly where there are heat times also).
- If I change a TimeResult from DQ to not-DQ, it doesn't cause the competitor to be updated/touched.
- Allow DNS, DNF
- Fix the "Display Candidates -> create heat" to allow un-selecting peoplo for the heat (male and female heat separately)
- For Trials Finals, put the Expert Male and Expert Female separately, with a small heading in front of each.
- When doing MUNI data entry, it should easily allow changing the result to be "this competition" instead of auto-adding to another event. Perhaps make the auto-select-event a feature flag?
- Feedback from Chris Hugo, The "Manage Competitors" button is not clearly the next action I need to do.
 - make it more obvious.
- Sort the labels to be printed in a stable order 9so that they match the announcer form?)
- # results for High/Long judges should show the number of unique competitors each judge has entered? (right now it's 0)
- Make the UI of the High/Long data entry more usable.
- Configurable: Disable the "auto-matching to another competition" feature. Make this ONLY available for 10k.
- Patricia Feature: Competitior Management Page, there is still a red warning if their partner isn't signed up for that competition which makes it unclear whether the person isn't signed up at all or if they are just in another age group. Robin: Make it clearer when a registrant is in a different filter vs when they are in this pairs-age-group.
- Remove all Boundary Score calculation logic, replace it with a new judge type, which affects "Presentation" Judge-type display.
- Mass Start Sign-in list should include blank lines for people who are not signed up.(10)
- add blank lines at the end of the sign-in-sheets.
- The awards are still printing a little off the labels at times
- Results should show the best-times-qualifying for 800m Experts.
- make the default download PDF filename more relevant, for awards-printer-person.
- Add ability to enter 10k results, to the right categories.
- Also have a way to do "Ungeared"
  - The medal will say "Ungeared Male" instead of "Expert Male"
- Make the announcer print-outs bigger.
- Connie, how difficult will it be to do Expert T-Shirts?
 - Answer: it would be nice to do this in advance.
- Who gets expert T-Shirts?
 - Pick the events that qualify for an expert t-shirt
  - Determine who came in top-3, and then combine all of these people into a list.
  - List the shirt-size for each of these competitors.
  - Allow adding another competition if there are still shirts/etc.
- Need a way to Display the results of a Combined competition (and publish them)
- need a way to print awards for a Combined Competition
- Rename the "Combined Competition" to something more descriptive
- Add indicator to the Import Results page which shows whether the given competitor already has a result record stored (this would be a BAD thing)
- allow admins/payment_admins to adjust the reg_fee of competitors, make it clearer/more accessible
- Integrate with USA Membership site


========================================================================================================================
Bugs which Robin would like fixed:
- Find/Add Unicon16 data to the server
- Need to seed new tenants
- Fix mailer when mailing from regtest site.
- RailsAdmin
- fix sign-out function (due to changes in the js for the navbar)
- Stop putting "Results" for people who are competitors but didn't race. (e.g. Slow Races ugh).
- Time Results Edit should have penalties (WTF robin)
- What happens if a competitor has no members? (do the pages display? do the calculations die?)
- Import Data without a Heat/Lane should show a nice error message
 - With a link to the Heat/lane data for lookup
- Caching on the Registrant#summary is broken, it doesn't notice changes to the competitor (only changes to the member).
- When a registrant loads the /edit page, and they get an error on submit, frequently they get another "event choice has already been taken" error when the subsequently try saving.
- Really Really slow Heat assignment
- Slow Lane Assign updating (because of the re-display, not because of the update itself?)
- auto-trim the first/last names (pre and post spaces)
- able to crash the system (dos attack) by attempting to approve only the Start Times.
- If a Finish time is DQ, and a start is not, it says "Unknown" (fix this).
- Lauren Atkinson Long Jump label, didn't fit on the label.
BUG- I can crash the system by trying to re-sort the age groups for Track (because it doesn't have a position?)
BUG: - Why can't I print James Richardson's Cyclocross medal (it splits into 2 pages)
BUG- printing from connie's firefox doesn't work very well (Pdf)
BUG: Previewing results to be posted is WAY too slow. (timeout 1/2 the time)
- fix competitor-advanced-add to work well with chosen-rails
- How did Mimi import results as Robin?
 - prevent additions/modifications after the event is locked, ?even by Robin?
- Improve the performance of the site:
 - CompetitionsController#result
 - WelcomeController#data_entry_menu
 - CompetitionsController#show
 - Printing::CompetitionsController#single_attempt_recording (CompetitionSignUp)
 - Fix/add caching of competition_source counts, so that it is updated when a new registrant signs up, or a new result occurs in a dependent competition....(how should this work? ...especially with the gender filter applied)
- Improve the styling of the Single Data Entry PDF:
 - Single Data entry PDF is 3 lines onto page #2.
 - Should we make it a long PDF with multiple pages.
 - Maybe make it number of competitors x2.
 - And put the Header on every page.
- New Menu Bar (not custom-made?)
- The NAV menu is overlaying/colliding with the breadcrumbs. fix this.

========================================================================================================================
Features which Robin would like added:
- First "resend e-mail" attempt by a user should say "please check your spam folders".
- update rails to 4.2 - Need to wait for globalize gem to be updated for rails 4.2.
- HTML5 Required-field Shim fallback on Safari
- Placeholder Shim fallback
- modernizr?
- auto-prefixer?
- remove regsitrant#blank status, since it's unused.
- Add a per-competitor report
- Per Registrant Results pages.
- Create "Participation Cerificate" which lists each Competitor's all results
- Only print the # of laps if it is fewer than the max # laps.
- Subscribe to Results notifications, pay $ to subscribe?
- Change the URL format for various pages, so that it's nicer/more descriptive (like using the bib number, or the event name?)
- Put "DQ" after all of the places on the results printouts
- Show the price rates/dates even on non-signed-in page?
- De-emphasize the green-"other data entry" button, and also de-emphasize the brue "already scored" judging opetiosn.
- Allow multi-delete of award labels
- Fix the header/grouping on the PDFs for headers.
- Fix the "Source from Competition" when doing Group competitions...it doesn't allow creation of groups (only indiduals)
- Add the times to the relay results printouts (age group specific)
- figure out how to let the IUF slalom results (555 results) be imported in < 30 seconds, and be scored in < 30 seconds. (really really long).
- Disallow setting a val_1_max > 99, as it doesn't work in the database storage (exception when trying to store score of 100). Or expand the range of the score value fields.
- Fix RailsAdmin by dealing with DqRequest circular dependency?
- Remove leading 0 in stillstand results. was hundreds, not thousands.
- Heat/Lane auto-assignment takes >30 seconds with >300 competitors
- Prevent the "set age groups results" from re-loading the page (it's slow)
- Add Heat divisions between each Heat, and also add page-breaks between each Heat.
- Add Repeating Headers on all PDF pages.
- Improve the ability to see the history of a registrant modification.
- Prevent people from changing their name/address, so that people can't "Sell" their early registrations?s
- Add a quick-access menu for Registrant/Edit

- The name of the competitoin for "800m Expert" is missing on Results page
- Configurable: Allow Hugo's Rules for High/Long....use a warning if they choose to move on without completing.
- Create an Excel export for heat Number management by Directros (bib, heat, age, age group, event sign up details)
- Create Excel import of the above file.
- Cache the age group entry in the competitor (and update it as necessary)
- Feature: print a cover page for Artistic Results?
- For High/Long, have a second data recorder, for helping? or another recording device for showing the competitors their results.
 - E.g. An iPad showing the last 4 attempts, automatically updating.
- Better scoring display, so that it displays/removes columns as necessary.
- Need to allow Hours minutes seconds, for Two Attempt Entry.
- Have a way to enter "Hours" for start time/finish times.
- Expose the "Overall <x> Champion" results
 - when should the Overall Champion calculation be updated? Whenever data is entered? approved? published? awarded?
  - Only show this when ALL of the input competitions are "Published" ?
- Add a way to display the overall places for 100m on the Results page (to help people identify the "Finalists")
- Improve the Excel Data import functions
 List all Age Groups, and their assigned Competitions, and the resulting # of people in each age group?
 - Connie to help with this design.
 - fix problems when the age groups are not large enough, or when a person's age is >100 (and out of range of the age groups) (problems printing PDFs, etc)
- Improve the styling of the "Manage Competitors" page:
 - The “Manage Competitors” page has too many words.
 - In a group, the members of the group should be on separate lines each.
 - Name of the group should be in bold.
 - Same thing with country.
 - “Create/Sort Competitors” should be more obvious.
- Allow changing the Bib Numbers for people.
- add feature tests for entering data through data-entry screens. (needs JS-runner?)
- Add tests for distance_attempt_score calculator ("Two Attempt Distance")
- Improve the Adjustment Payment system, and add tests for it, so that it can be used by non-Robin
- Enhance the "mark items as paid for" to allow for arbitrary number of "other" elements....adding them by JS.
- Update the instructions for setting up a development or server
- update to use database.yml and secrets.yml the rails-4 way?
- Add monthly reminders to people who haven't paid?

========================================================================================================================
Other Features:
- Email reminder to people who haven't paid for their registrations yet.
- Allow navigation forwards to a step which has already been completed.
- display the "unpaid" and "access code" only in certain circumstances (on-site reg period)
- "resume" prompt if you click on "new competitor" when one is already in progress.
- describe the coupon on the summary page?
- Add a "Republish" ability for admins (separate from the "Unpublish" ability).
- Why doesn't the artistic summary show the places? (make it print ordered by place, and then remove the top summary?)
- Add HighlightIfDuplicate to the StreetScore judging page. (for ties)
- make hours and minutes and seconds line up properly. (so that 1 hour (without miliseconds) and minutes (with miliseconds) show up more clearly.
- make the "Mark as inactive" clearer for admin users, when managing Freestyle competitors, so that we don't "delete" competitors after they have started judging (for clarity).
- "Delete all registrants who have dropped this competition" button, or multi-delete?
- Have a "Data Checking" station, which allows looking at results for High/Long as they are being run?
- Have a "View Results" button for each competitor's results?
- Shade out a competitor who has results when they cannot have more results (like High/Long when double-faulted, or External Results?)
- Improve the performance of the competitors#index page, based on newrelic performance. (add caching?)
- Accept leading zeros for iD numbers field.
- Track Results - make the results text smaller (fewer printed sheets)
- Track - create role for importing the data?
- Track - create role for the ipads?
- Track - Recalculating the results is too long (difficult to take the system down that long)
- Configurable (Track): Disable the "next heat is in...<category>" function.
- OnSite Registration/Payments.
 - What can people buy? how do we manage that?
 - How do I keep people from buying things we don't have for sale?
- During Onsite - Report and Remove all the unpaid elements (shirts)
- During Onsite - Show all competitor events instead of registered events
- Show any remaining sign ups as "(Not Confirmed)"
- Adjust marking of "dropped" to handle changing-the-chosen-event-category
- Display Scores should show the Combinedcompetition scores page (more details than just place)
- Q: How are "Notes" for a score entered? displayed?
- need ability to select and delete multiple entries from the awards labels page.
- Configuration: make it not allowed to put a DQ for a higher attempt without first marking success at the present level.
- make the Track-Ipad page auto-updating?
- When doing data entry, show results from other importers...without the ability to edit them?
- Should I move the location of the ID# on the registration form?
- Marathon data entry should be Hours, minutes, seconds? (instead of min/sec/thou)
- USA membershp page, allow easy adding/editing of USA# to a reg.
- Allow easy way to export the list of e-mails of those who remain.
- Test importing CSV file.
- Improve the Track-Day Lane-Assignment Role/Screen
 - Filters for Heat/age-group (filter before-and-after Heat # X)
 Done- Put the Heat/Lane/ID/Name/age/age-group/Gender, (because it doesn't need to be sorted by ID)
 - When re-sorting, some of the data goes away.
 - color-code filled-heats.
  - Use a "show Heat X and above text-area"
 - "Is tehre a way to put a Line between each Heat?"
  - Perhaps remove all of the sortability, and only make it prettier, using dark-lines between heats.
- Subscribe to notifications whenever a director Locks data from an event?
- have the "Event Report" be exported in Excel format
- Have a tablet at the start point which shows the HEAT number, Age Group, Event, Competitors (Large ID, Large First, (small Last))
- Allow Pre-Assigning Heats for Competitions easily
 - Perhaps a view of exported data for the signed-up competitors would be sufficient?
 - 10k - Print/export registrant data with Best Time (for use by chief judge when creating start-lists).
- Add the "DNS" and "DNF" states to a competitor, and to import_results.
- Have pre-filled options for the DQ Comment.
- Log all logs to an external (persistent) store
- Run a report of all <=10 year olds, so that we can identify the wheel size that they will be competing on for their various events
 - Perhaps have this highlight their registration package sheet?
- Enter start times, with the same start time for many people
- mark comptitor as no-show
- Create "Expert T-Shirt" calculation system
- Create "Personalized Schedule" for each competitor
- Show the "attempt number" which was faster.
 - the "All"/"none" choices should not re-sort the list.
- Update the Events Report to list the sign-ups on a per-country breakdown
- Update/create Standard Skill Scoring system, replacing the UCP
- Make the "shared registrant" banner disappear (or de-highlight) when accepted
- Payment page checkmarks with running total. When boxes are checked, highlight line.
- Immediate errors display when typing in.
- Keyboard Shortcuts for most common functions

========================================================================================================================
Other Bugs:
- Manage competition_wheel_size - not authorized.
- on deletion of a registrant, don't send them to 'not authorized' page.
- able to crash the system (dos attack) by attempting to approve only the Start Times.
- Deleting the last member of a competitor doesn't delete the competitor, prevent this action?
- There is some scenario causing orphaned members to exist (no associated competitor)...can't reproduce?
- Direcotr is not authorized to Enter/Modify Results, even though they see the link (Gossi)
- Firefox sortable doesn't sort as well (see data-entry menu when dates are crossing a month boundary)
- When registering, invalid Country says "2 errors" when there is only 1
- Fix Import results CSV to allow for Mac-based CSV files (not windows-only)
  - Why can't I import the 10kStandard.csv (file format issues?)
- Marking Wire Payments received for Lodging doesn't eliminate the previous lodging entry.
 - When marking an item as free for someone, eliminate their registrant_expense_item somehow?
- IPN with no invoice number should include whole post information.
 - determine if there is a way to prevent all things from getting sent to me?
- Fix the ability to adjust the age of a competitor, and have it automatically adjust their wheel size.
- Export/Import functions for the WHOLE dataset?
- Admin page for the events page....should show num people signed up vs num people signed-up-and-paid.
- expense items be destroyed when an expenseGroup is destroyed
- Prevent events from having no position-1-event-choice-boolean

========================================================================================================================
Other Cleanup:
- remove edit_registrant_path references
- re-work the specs to use the default sidekiq queueing for test strategy (remove work-around)
- Determine test coverage.
- Run/resolve consistency_fail errors
- Eliminate the ImportResults, replace it with a boolean "tentative" flag?
- Move the "PDF" link to be inside the HTML form on all pages, instead of next to the HTML pageview link.
- Add test for lane_assignment, and view_heat and dq_request paths.
- Wrap Permissions (on User) properly, so that cancan sees/manages it (currently it's can?(:manage, User))
- Remove Version table and paper_trail...replace with something else?
- Remove all json responds to, except where I need it. (and remove all respond_to blocks).
- Make more events AJAX instead of refresh the page.

========================================================================================================================
Other:
- "Prices increase by $x in about 2 months" (add the amount it will increase) (do not display if price doesn't actually increase: ie non-comps at naucc2015)
- test/fix IE-compatibility
- allow modification of the selected registrant when doing "Edit" of imported results...so that we can adjust it while doing "import somewhere else" imports. (like Muni XC)
- TwoAttempEntry, should require thousands in both T1 and T2, does it?
- Eliminate the difference between Proof and Review. (these two pages are very similar)
- Allow Admin to be able to edit imported scores.
- 100m breadcrumbs on "display heat"
- Get rid of XXX, or at least go through it and make a decision.
- caching of the judges/results pages
- Ensure that competitors who are not coming (deleted) are not showing up anymore.
- When publishing results, warn if there is missing data (what constitutes missing data?, but allow Admins to publish the results anyways (though other roles need to fix the data).

- Build a similar TwoAttemptEntry Review/Approve set (like the Single/ImportResult ones)
- enable feature test for two-attempt-entry. (needs JS)
- install simple_form_for (for two-attempt-entry form, to help with error reporting?)

- Would it be possible to sort in HTML and Then export to PDF.
- Possibly use "stripe" for the creditcard vendor.
- Make the Pay Now a button-like-thing.. For a Sinlge Registrant, Make the Pay Now part of the regsitration.
- Add the "Heat/Lane" to the results listing page (and some reports too?)
- Combine multiple expenses onto one line for ease of seeing.
- Replace magic strings with class constants
- UTF8 encoding of the list elements sent to Paypal (to allow for french characters) Search "Notification of payment received" in e-mail
- replace has_details/print_details with common helper function?
 - Display the "details" for payment entries of paid entries on various places where it is displayed
- Allow html in the mass-mailer (and plaintext too?)
- look at using 'https://github.com/croaky/parity'
- add documentation to methods as per: http://globaldev.co.uk/2013/10/ruby-tips-part-4/
- prevent PaymentExpense from being created without details (for those which have details)

========================================================================================================================
Other Notes:

Registrant Summary of results. Notes:
  per event:

  - Event name
  - result (time/points)
  - Expert placing
  - Age group name
  - Age group placing

Possibly store all published results 2x. Once with a TOD, once without any random characters (just "Trials_results.pdf"). This way, any sharing of the link will be to the same-named file at all times
 - Additionally, we are able to keep around all previously published results, for reference by admins, if desired/needed.

what is uni-alpha? (same as 'unicycling', but with less (no) data)
what is unicycling? (naucc2012 Standard Skill routine entry menu)

- Slopestyle Street:
5 judges, each judge scores the competitor by:
 - Variety (/10)
 - Consistency (/10)
 - Difficulty (/10)
A super-judge by Time:
 - Time (/5, fastest=5, slowest=0)

- In the 50m WW, why doesn't a 20" able to compete? Is it the size of the cranks.

- Wheel Walk results show doesn't Experts vs not, in order to be able to differenciate.
  - Also decide whether Experts should be 1 or 2 (m/f) competitions.
- better way to do in-place sorting than the current age-group-type sorting.

- Connie/Scott: Rulebook question: can a 0-10 20” racing-categroy competitor win the expert slow… If so, then any competitor (no matter what wheel) can win. Expert will be non-wheel-size.
 - Answer: no. it cannot.
 -  "** Calculation of the Experts cannot use results which are in the 20"or 16" category."
  - ANSWER: to solve this, only peopleo on 24" wheels will have an "overall_place" for 100m.
 - IS THIS CLEAR AND CODIFIED?


- Should we change the way that the data recording forms are written for NAUCC?
 - On the Competitors List:
  - Split it by ID only, then record their 2 times
  - See the gender of the competition, or split the competitors by gender.

===========================================================
Behaviour comments abotu Data Entry:
===========================================================
When doing data entry, adding data:
Only seeing the first set of data when there is more than 2 data entries for the same person.
The “search” box is being cut off because the footer is overlapping.
Single data entry, can we put the error box near the submit instead of the top.
When an error occurs, put the focus on the first box that is missing.
The error shouldn’t “or rank” because it doesn’t exist here
Don’t allow tab to the competition rulebook.
When there is double-entry it should be highlighted.

========================================================================================================================
Rulebook Rule changes desired:

- Add a rulebook rule for how to cut off the ends of High/Long competition (you are allowed to jump...forever?)
- add recommendations for how to schedule an event, including awarding younger riders' awards earlier, and not performing awards the same evening as an event.
- add recommendation for scheduling event to include always having water stations, clearly labeled bathrooms, and announcing medical services are available, where.

- Scott/Hugo/benoit - UNICON rule: Scott, can we add a rule to Trials for tie-breakers, so that we know that people need to be present for tie-breaking.


What is the way in which the High/Long competition will be run?
Connie has ideas about the “most efficient” way of running it. Who is the director, and how do they think it should be run?

Scott: section 4.6 Age Groups (Muni)
There are the age groups that must be used for Muni? (it seems to indicate this by saying "The following age groups are the maximum allowable for muni competitions:”


Section 5.7 Announcing of Results (Freestyle)
This seems to say that we are required to continuously announce the results of the judging. We have always restricted this information until after the awards. Is this still planned to be done?

Scetion 5.23 Individual Freestyle - Technical Score
Should "The Technical part of the judging is broken into four parts” be “three parts”?


5.25.1 Pairs Freestyle: Quantity of Unicycling Skills and Transitions

This section feels like it needs some grammatical correction.



========================================================================================================================
========================================================================================================================
========================================================================================================================
Group Num Paid (No Discount)  Num paid (with discount or free)  Total Amount Paid Num unpaid
Final Party Items 97  0 $1287.00  10
Registrations 133 16  $9445.00  7
Standard T-Shirts 66  3 $1044.78  6
Women's T-Shirts  40  0 $633.20 0
Youth T-Shirts  13  0 $205.79 2
