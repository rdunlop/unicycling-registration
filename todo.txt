Last Re-Arranged September 6, 2013.

Registration-Related ToDo

-- SCOTT's CURRENT LIST:
- Update the Events tabs to be coloured as per their desire (use jqueryui website to choose the color scheme?)
- Update the Events tabs' internal table to alternate row colours, as per Hugo's desire.
-- END SCOTT's CURRENT LIST:


----ROBIN's CURRENT LIST:
- try creating workspace from scratch, to deal with the 'secret_key' issue on db:create/migrate
- ensure translations work with strong_parameters
- limit rooms to 1000 (total), with a warning function at 80%?
- add documentation to methods as per: http://globaldev.co.uk/2013/10/ruby-tips-part-4/
- Rename onsite to adjustment
- prevent PaymentExpense from being created without details (for those which have details)
- include "translations" in the loads of data (N+1 record thing)
- Translate "Please Wait" from buttons
- upgrade to ruby 2.0
- drop the base columns for the translated attributes?

- Determine if "unoauthorized" message is now being lost due to locale?
- Add a column to the admin/payments/ page which shows the number of "free" items that have been "paid for".
- Imrprove the way that admin's can view/add payments to a user. Both "Onsite Payments" and "Free Item for special person".
- create a better footer, which floats, and also contains links to Language-selection
---- END ROBIN's CURRENT LIST:

- functional test which shows that registrant_group can be created
- functional test which shows that creating a competitor registrant can work, and updating a registrant can work
- functional test which shows that creating a non-competitor can work, and updating a registrant can work

- clear the cache of reg_paid when a refund is created

- find a way to clear the rails cache before each test 'describe' step?
- Display the "details" for payment entries of paid entries on various places where it is displayed
- When marking an item as free for someone, eliminate their registrant_expense_item somehow?
- combine the _expense_list.html.erb and the other (similar) partials
- Add ability to search for registrants by name, instead of always by ID. (wherever we do registrant-choosing). perhaps via a javascript helper function or something.
- Remove all of the "sortable" "search" boxes, as they are clutter.....but have them on the really-long-list tables (like 'edit registrant').
- Only display the "Gender Filter" when creating a competition (not on edit)
- Ensure that the Paid Payment Details page doesn't list refunded items unnecessarily.
- Clarify how to assign a user as a "Lane Assignment User", and where to enter that information
- Change the Judging menu to be "by Category" instead of "by Event Class", and also move the Event Class to the Competition? (or leave it there?)
- Check to see that all of the Controllers are using Registrant.order(...) correctly (it's overridden by the default_scope). 
- Replace the current AwardLabel model with the new one (so that we can clean up the AwardLabel generation logic)
- Identify all remaining non-translated texts, and put them into the locale files for english and french (and send them to Hugo)
- Only send e-mails to confired users (not those with invalid e-mail addresses).
- Provide Rolf with a view which shows him the Teams/Team captains, etc
- Fix the SuperAdmin banner going all wonky (permissions, only shows admin links)
- Update the Admin functions for when users are "Admin"....mostly read-only.
- Auto-fill the "Name of Guest" in the Lodging with the current registrant's name.
- Get rid of XXX
- Ensure that all roles can perform all the actions that they want/expect to be able to do

- Add age validation to the Jr Expert (and Wheel Walk)
- Only allow "Jr Expert" if certain age.
- Limit the rooms to 1000 by all types (not per type of room)
- Specify a racers "Default Wheel Size" or their registration, so that they might notice/correct it.
- Give Online registration statistics to Hugo from previous UNICON (how many in each phase)
- delegate expenseGroup to the paymentDetail and registrantExpenseItem, so that we don't have to explicitly go through the expense_item?
- Fix the stylesheet/images issue which is preventing serving any of the up-arrow/down-arrow images in PRODUCTION





To Do sometime soon:
- Update the Events Report to list the sign-ups on a per-country breakdown
- Update all dependencies to latest versions
- Replace magic strings with class constants
- "Connie also wants the ability to print all results for a whole event type (i.e. distance) so use some sort of combine pdf function."

Possible (but not required):
- Allow changing the Bib Numbers for people.
- Combine multiple expenses onto one line for ease of seeing.
- Add "# remaining" to the Items page when the items are limited in number

- write documentation that describes the major features of the system
- Write tutorials:
 - that show how to set up the system for registration
 - that show how to set up the events
 - that show how to enter judging results for races
 - that show how to do artistic judging

 - Add text describing that we will "expire" lodging reservations if not paid when the next registration period occurs.
 - Do we want this, or to have different room numbers?

Nice-to-have:
1) Whatever is simpler, and cancelling the room bookings of un-paid registrants after each period is ok, with an e-mail, and .....
2) Definately allow people to have multiple slots in a room. (probably)...depends on gyms
- Maximum per registrant should be 5
3) Should stay in the same day for the whole stay.
4) Should be buying a "package deal"(all rooms at once)

- Figure out how to restore the pg-sequences, so that we don't get key collisions in the future
 - Due to the "import" feature I think

In support of making NAUCC competitors happier:
- Create "Participation Cerificate" which lists each Competitor's all results

To Do (other requests):
- Fix Import results CSV to allow for Mac-based CSV files (not windows-only)
- Add the "Heat/Lane" to the results listing page (and some reports too?)
- Create "Overall Champion" calculation system
- Create "Expert T-Shirt" calculation system
- Create "Personalized Schedule" for each competitor
- Replace "Distance" with "Timed"
- Put "DQ" after all of the places on the results printouts
- Allow setting of a sort order on the age groups (for printing, I suspect).
- Fix the import/export to include event_category (seems to have been missed for unicon2014 import)
- Make the footer nicer (like UCP)
- Add indicator to the Import Results page which shows whether the given competitor already has a result record stored (this would be a BAD thing)
- UI for configuring a racer's "Default Wheel Size"
- Make the site more robust when creating/deleting expense items/registration periods (scott broke it easily by deleting an expense item, I think)

??- Results should include overall place.
- Awards labels . "Clear whole column"
- Autocomplete for Club Name, Group Name, etc.
- Re-write the artistic calculation code to use the new caching strategy, and also to optimize so that the same calculations are not done multiple times (for each place(competitor) call)
- fix problems when the age groups are not large enough, or when a person's age is >100 (and out of range of the age groups) (problems printing PDFs, etc)
- Use more Form Helpers (like the RegistrantGroup form helper)
- Update roles,to allow certain admin users to be able to create results (external results, import results)
- What happens if a competitor has no members? (do the pages display? do the calculations die?)
- When the server is running locally, log all errors to a database table (and allow viewing of this).
 - Perhaps _always_ log errors to this table, and e-mail if possible?
- Allow for people to pay via Paypal while "onsite registrant"???
- Opensource the Rulebook software
 - address some of the rulebook software issues (See Jan23 E-mail)
- Create a new builder for the controller/scaffold function, without a 'new' page, and without a 'show' page

- Finish the Artistic Group/Club for Falls.
- Num Laps for time results (Coker MUni cross)
- UI for using the "International (Ineligible)" selection for registrants.
- Should be able to enter obstacle course data (multiple data points, fastest wins)

- Import Data without a Heat/Lane should show a nice error message
 - With a link to the Heat/lane data for lookup
- Don't eliminate places which are not affected by new time_results
- Fix association between Competitions and events (separate from event-categories?)
 - So that the Expert Competition can be properly associated.

LESS IMPORTANT THINGS:
- Improve the "Manage Judges" menu for each competition
- Ability to create Artistic Group/Pairs competitions based on the fields filled out (?)
- Should be able to capture the "DQ" and "DQ reason" fields in a form easily ,for use by the finish judge.
- Improve the UI of the "My Events" page, so that the "Heat assignment" people have:
 - A short list of the available competitions
 - The speed/lane-assignment information
 - Instructions
- Lane Assignments Heat/Lane/Comptetion should be unique
 - And should show nice error message if you get it wrong

FUTURE THINGS (LATER):
- Booleans in models should be "?" like? ("has_experts?")
- Make the "Lane Assignment" a role that can be added to a user, separate from the normal "judge" role.
- Improve the "My Events" view for judges by "ordering" the competitions?
- Be able to print the Race Results by Age Group more easily.
- Improve the formatting of the Score data entry
- Improve the formatting of the Chief JUdge view-all-scores report
- Fix problem when typing in value for "position" and getting it wrong (and it breaks the system)
- SUMMARY:
 - Improve the time spent to generate the Summary page (so that the all-summary works in <15 seonds)
 - Mark Atkinson's Sumarry is 2 pages, why?
 - no-wrap the age-group cell contents
 - Keyboard Shortcuts for most common functions
- Add Blank Expert Heat Lane Assignment Forms (for both 6-lane and 8-lane tracks?)
- Improve the formatting of the Lane Assignment role instructions-
- "Are you leaving at the end of competition"? (question for registrants at check-in time).



UNCATEGORIZED:
- Should be able to more easily enter Time Results data by hand (dq,s etc) (not required that the racer be a competitor?)
- Fix TimeResult dropdown,order, to be sorted, and show ? non-signed-up-people?
- Ability to specify a "name" for user accounts, so that I can refer to "judge" accounts properly.
?- Ability to show the Events, Judges, so that the Chief Judge can determine the next events' judges in advance

- Document the flows
- Automate the testing of the flows 
- Prevent multiple judges from entering results for the same registrant in TimeResults

- Synchronize data between UCP and UDA.
 - Export Registration-configuration data from UDA to UCP
 - Export Registration data from UDA to UCP
 - Export Payment data from UDA to UCP
 - Export Competitor-assignment from UCP to UDA
- Improve ability to modify/manage registration data on UDA for on-site modifications.


Standard Skill:
- Bring across tests
- Figure out how to isolate the logic (create a new model?)
- Add "Print list" option for standard skill report.
- Add administrative option which shows signed-up vs filled-out.

Remove Version table and paper_trail...replace with something else?

TODO:
Add ability to download payment and address details?
Make page views more responsive
Ask Hugo how to fix the registrant_expense_item <-> Payment_Detail conversion, I don't think I should need to do this...but I don't know a better way.
Fix all the separate loops which print the expense items (owed, paid, free), as they appear redundant, and should probably be combined somewhere?....what about the "can delete" actions?
